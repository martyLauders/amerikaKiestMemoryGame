function Tile(i){this.title=i.name,this.text=i.text,this.movie=i.movie,this.flipped=!1}function shuffle(i){for(var e=i.length,t,s;0!==e;)s=Math.floor(Math.random()*e),e-=1,t=i[e],i[e]=i[s],i[s]=t;return i}function makeDeck(i){var e=[];return i.forEach(function(i){e.push(new Tile(i)),e.push(new Tile(i))}),e}function Game(i){this.tilesSimple=i;var e=shuffle(makeDeck(i));this.message=Game.MESSAGE_CLICK,this.unmatchedPairs=i.length,this.tileDeck=e,this.flipTile=function(i){i.flipped||(i.flip(),!this.firstPick||this.secondPick?(this.secondPick&&(this.firstPick.flip(),this.secondPick.flip(),this.firstPick=this.secondPick=void 0),this.firstPick=i,this.message=Game.MESSAGE_ONE_MORE):this.firstPick.title===i.title?(this.unmatchedPairs--,this.openDialog(i.title,i.text),this.message=this.unmatchedPairs>0?Game.MESSAGE_MATCH:Game.MESSAGE_WON,this.firstPick=this.secondPick=void 0):(this.secondPick=i,this.message=Game.MESSAGE_MISS))}}Tile.prototype.flip=function(){this.flipped=!this.flipped},Game.MESSAGE_CLICK="Klik op een kaart.",Game.MESSAGE_ONE_MORE="Kies nog een kaart.",Game.MESSAGE_MISS="Probeer het nog een keer.",Game.MESSAGE_MATCH="Goed gedaan! En blijven gaan!",Game.MESSAGE_WON="Je hebt gewonnen!";